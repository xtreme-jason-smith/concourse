---
resources:
- name: specified-input
  type: mock
  source:
    initial_version: v1

- name: all-input
  type: mock
  source:
    initial_version: v1

- name: map-input
  type: mock
  source:
    initial_version: v1

- name: some-resource
  type: mock
  source:
    initial_version: v1

jobs:
- name: test
  plan:
  - get: specified-input
  - get: all-input
  - put: some-resource
    params: {version: "v2"}
    inputs: all
  - task: test
    config:
      platform: linux
      image_resource:
        type: mock
        source: {mirror_self: true}
      run:
        path: sh
        args: ["-c", "exit 1"]
